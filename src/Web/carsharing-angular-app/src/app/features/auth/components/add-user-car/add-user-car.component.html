<div *ngIf="isLoading"> <app-loading-spinner/> </div>
<div class="component-container mt-4" *ngIf="!isLoading">
    <form (ngSubmit)="addCar()"
          [formGroup]="addCarForm"
          class="app-form">
        <div class="form-group row mb-2">
            <div class="col-2">
                <label for="brand">Brand</label>
            </div>
            <div class="col-10">
                <input
                    id="brand" 
                    type="text" 
                    class="form-control"
                    formControlName="brand"
                />
            </div>
        </div>
        <div class="form-group row mb-2">
            <div class="col-2">
                <label for="model">Model</label>
            </div>
            <div class="col-10">
                <input
                    id="model" 
                    type="text" 
                    class="form-control"
                    formControlName="model"
                />
            </div>
        </div>
        <div class="form-group row mb-2">
            <div class="col-9">
                <label for="numberOfSeats">Number of seats</label>
            </div>
            <div class="col-3">
                <input
                    id="numberOfSeats" 
                    type="number" 
                    class="form-control"
                    formControlName="numberOfSeats"
                    min="2"
                />
            </div>
        </div>
        <div class="form-group row">
            <div class="col-9">
                <label for="colorHexCode">Color</label>
            </div>
            <div class="col-3">
                <input style="width: 100%;"
                    type="color" 
                    class="form-control form-control-color" 
                    id="colorHexCode" 
                    title="Choose car color"
                    formControlName="colorHexCode"
                />
            </div>
        </div>

        <div class="mt-3 component-bottom-buttons">
            <button
                class="btn app-btn-primary"    
                type="submit" 
                [disabled]="addCarForm.invalid">
                Add car
            </button>
        </div> 
    </form>
</div>

@if(isCarBrandInvalid)
{
    <div class="alert alert-danger mb-2" role="alert">The car brand is required.</div>
}
@if(isCarModelInvalid)
{
    <div class="alert alert-danger mb-2" role="alert">The car model is required.</div>
}
@if(isCarNumberOfSeatsInvalid)
{
    <div class="alert alert-danger mb-2" role="alert">The car seats must have at least 2 seats.</div>
}